
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>API instantiation Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.2">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-theme-api/theme-api.css">
                
            
        

    

    
        
        <link rel="stylesheet" href="../styles/website.css">
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="accessing-entries/dotnet/entry-get-dotnet.html" />
    
    
    <link rel="prev" href="getting-started.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Overview
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../common/data-types.html">
            
                <a href="../common/data-types.html">
            
                    
                    Data types
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../common/api-errors.html">
            
                <a href="../common/api-errors.html">
            
                    
                    Handling errors
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../common/language-variations.md">
            
                <span>
            
                    
                    Language variations
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Delivery API</li>
        
        
    
        <li class="chapter " data-level="2.1" data-path="./">
            
                <a href="./">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="getting-started.html">
            
                <a href="getting-started.html">
            
                    
                    Getting started
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="2.3" data-path="api-instantiation.html">
            
                <a href="api-instantiation.html">
            
                    
                    API instantiation
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Accessing entries</li>
        
        
    

    
        
        <li class="header">.NET</li>
        
        
    
        <li class="chapter " data-level="4.1" data-path="accessing-entries/dotnet/entry-get-dotnet.html">
            
                <a href="accessing-entries/dotnet/entry-get-dotnet.html">
            
                    
                    Get
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.2" data-path="accessing-entries/dotnet/entries-list-dotnet.html">
            
                <a href="accessing-entries/dotnet/entries-list-dotnet.html">
            
                    
                    List
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.3" data-path="accessing-entries/entry-search.html">
            
                <a href="accessing-entries/entry-search.html">
            
                    
                    Search
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Model</li>
        
        
    
        <li class="chapter " data-level="5.1" data-path="model/">
            
                <a href="model/">
            
                    
                    Model
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">.HTTP</li>
        
        
    
        <li class="chapter " data-level="6.1" data-path="model/http/entry-http.html">
            
                <a href="model/http/entry-http.html">
            
                    
                    Entry
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.2" data-path="model/http/asset-http.html">
            
                <a href="model/http/asset-http.html">
            
                    
                    Asset
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.3" data-path="model/http/composed-http.html">
            
                <a href="model/http/composed-http.html">
            
                    
                    ComposedField
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.4" data-path="model/http/daterange-http.html">
            
                <a href="model/http/daterange-http.html">
            
                    
                    DateRange
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.5" data-path="model/http/image-http.html">
            
                <a href="model/http/image-http.html">
            
                    
                    Image
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.6" data-path="model/http/location-http.html">
            
                <a href="model/http/location-http.html">
            
                    
                    Location
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.7" data-path="model/http/quote-http.html">
            
                <a href="model/http/quote-http.html">
            
                    
                    Quote
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.8" data-path="model/http/versioninfo-http.html">
            
                <a href="model/http/versioninfo-http.html">
            
                    
                    VersionInfo
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">.NET</li>
        
        
    
        <li class="chapter " data-level="7.1" data-path="model/dotnet/entry-dotnet.html">
            
                <a href="model/dotnet/entry-dotnet.html">
            
                    
                    Entry
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.2" data-path="model/dotnet/entry-methods-dotnet.html">
            
                <a href="model/dotnet/entry-methods-dotnet.html">
            
                    
                    Entry methods
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.3" data-path="model/dotnet/asset-dotnet.html">
            
                <a href="model/dotnet/asset-dotnet.html">
            
                    
                    Asset
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.4" data-path="model/dotnet/composed-dotnet.html">
            
                <a href="model/dotnet/composed-dotnet.html">
            
                    
                    ComposedField
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.5" data-path="model/dotnet/daterange-dotnet.html">
            
                <a href="model/dotnet/daterange-dotnet.html">
            
                    
                    DateRange
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.6" data-path="model/dotnet/image-dotnet.html">
            
                <a href="model/dotnet/image-dotnet.html">
            
                    
                    Image
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.7" data-path="model/dotnet/location-dotnet.html">
            
                <a href="model/dotnet/location-dotnet.html">
            
                    
                    Location
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.8" data-path="model/dotnet/quote-dotnet.html">
            
                <a href="model/dotnet/quote-dotnet.html">
            
                    
                    Quote
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.9" data-path="model/dotnet/versioninfo-dotnet.html">
            
                <a href="model/dotnet/versioninfo-dotnet.html">
            
                    
                    VersionInfo
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Cookbook</li>
        
        
    
        <li class="chapter " data-level="8.1" data-path="cookbook/">
            
                <a href="cookbook/">
            
                    
                    Cookbook
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Management API</li>
        
        
    
        <li class="chapter " data-level="9.1" data-path="../management-api/">
            
                <a href="../management-api/">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Query API</li>
        
        
    
        <li class="chapter " data-level="10.1" data-path="../common/query-operators.html">
            
                <a href="../common/query-operators.html">
            
                    
                    Query operators
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Security</li>
        
        
    
        <li class="chapter " data-level="11.1" data-path="authentication.html">
            
                <a href="authentication.html">
            
                    
                    Authentication
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >API instantiation</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="api-instantiation">API instantiation</h1>
<h2 id="default-configuration">Default configuration</h2>
<p>The default configuration can be set once on the application startup which will be effective for all ContensisClient instantiations, negating the need to provide configuration values each and every time the API is used. On the startup of a Contensis website, the configuration code is set to reflect the context of the publishing server, ensuring that the correct service url, project API id, project default language and delivery context (preview or live) are set. </p>
<p>Additionally, the security properties are set, which simplifies the usage of the API. The client ID and shared secret are obtained from the API key management screen. This is then used to call the security service to obtain a claims-based bearer token and to validate that the user can access resources from the service. The list of scopes define what you would like your client to be able to do (<a href="authentication-dotnet.md">see the scopes section for more information</a>).</p>
<p>This same approach can be used in non-Contensis based frameworks such as ASP.NET MVC or the Nancy framework.</p>
<div class="api-method"><div class="api-method-definition"><h5 id="api-initialisation">API initialisation</h5>
</div><div class="api-method-code"><div class="api-method-sample" data-lang="cs" data-name="C#"><pre><code class="lang-cs"><span class="hljs-keyword">var</span> defaultConfiguration = <span class="hljs-keyword">new</span> ContensisClientConfiguration(
    rootUrl: <span class="hljs-string">&quot;http://cms.contensis.com&quot;</span>,
    projectApiId: <span class="hljs-string">&quot;myProject&quot;</span>,
    defaultLanguageCode: <span class="hljs-string">&quot;fr-fr&quot;</span>, <span class="hljs-comment">// default: en-GB</span>
    deliveryContext: DeliveryContext.Preview, <span class="hljs-comment">// default: Live</span>
    clientId: <span class="hljs-string">&quot;651465e0-2fb8-4b0f-aa2f-1ab34cfe0513&quot;</span>,
    sharedSecret: <span class="hljs-string">&quot;2327d623-d44e-41ef-a837-717a626f4b75-098348eb-b0a6-4023-a64a-805536024dfb-1a558c9c-49dc-4709-9e8b-c203f60fda80&quot;</span>,
    scopes: Scopes.All.ToList() <span class="hljs-comment">// default: All</span>
);

ContensisClient.Configure(defaultConfiguration);
</code></pre>
</div><div class="api-method-sample" data-lang="js" data-name="JavaScript"><pre><code class="lang-js"><span class="hljs-comment">// TODO</span>
</code></pre>
</div></div></div>

<h2 id="client-creation">Client creation</h2>
<p>All operations for the API hang off the ContensisClient type, which is created using the static method ContensisClient.Create(). The Create() method allows parts of the Default configuration to be partially or completely overridden for that instance.</p>
<div class="api-method"><div class="api-method-definition"><h5 id="creating-a-contensisclient">Creating a ContensisClient</h5>
</div><div class="api-method-code"><div class="api-method-sample" data-lang="cs" data-name="C#"><pre><code class="lang-cs"><span class="hljs-keyword">using</span> Zengenti.Contensis.Core.Api;
<span class="hljs-keyword">using</span> Zengenti.Contensis.Core.Api.Delivery;

<span class="hljs-comment">// Create with full configuration settings</span>
<span class="hljs-keyword">var</span> client = ContensisClient.Create(<span class="hljs-string">&quot;projectId&quot;</span>, <span class="hljs-string">&quot;http://cms.contensis.com&quot;</span>, <span class="hljs-string">&quot;client id&quot;</span>, <span class="hljs-string">&quot;shared secret&quot;</span>, <span class="hljs-keyword">new</span>[] { Scopes.All });

<span class="hljs-comment">// Create with default configuration</span>
<span class="hljs-keyword">var</span> client = ContensisClient.Create();

<span class="hljs-comment">// Create with default configuration, but targetting a different project</span>
<span class="hljs-keyword">var</span> client = ContensisClient.Create(<span class="hljs-string">&quot;sharedAssets&quot;</span>);
</code></pre>
</div><div class="api-method-sample" data-lang="js" data-name="JavaScript"><pre><code class="lang-js"><span class="hljs-comment">// TODO</span>
</code></pre>
</div></div></div>
                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            

        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"API instantiation","level":"2.3","depth":1,"next":{"title":"Get","level":"4.1","depth":1,"path":"delivery-api/accessing-entries/dotnet/entry-get-dotnet.md","ref":"delivery-api/accessing-entries/dotnet/entry-get-dotnet.md","articles":[]},"previous":{"title":"Getting started","level":"2.2","depth":1,"path":"delivery-api/getting-started.md","ref":"delivery-api/getting-started.md","articles":[]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":["theme-api"],"pluginsConfig":{"theme-api":{"languages":[{"lang":"js","name":"JavaScript"},{"lang":"http","name":"HTTP"},{"lang":"json","name":"JSON"},{"lang":"cs","name":"C#","default":true}],"split":false,"theme":"dark"},"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"delivery-api/api-instantiation.md","mtime":"2016-12-14T09:01:45.356Z","type":"markdown"},"gitbook":{"version":"3.2.2","time":"2017-01-02T18:47:14.500Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-theme-api/theme-api.js"></script>
        
    

    </body>
</html>

