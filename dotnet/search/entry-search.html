
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Search basics · Contensis .NET Delivery API</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.2">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-prism/prism-okaidia.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
        

    

    
        
        <link rel="stylesheet" href="../styles/website.css">
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="query-operators.html" />
    
    
    <link rel="prev" href="../model/versioninfo.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                

<ul class="summary">
    
    
    
        
        <li>
            <a href="http://zengenti.com/en-gb/products/contensis/contensis.aspx" target="_blank" class="custom-link">Development Home</a>
        </li>
    
    

    
    <li class="divider"></li>
    

    
        
        <li class="header">.NET Delivery API</li>
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Security</li>
        
        
    
        <li class="chapter " data-level="2.1" data-path="../security/authentication.html">
            
                <a href="../security/authentication.html">
            
                    
                    Authentication
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="../security/scopes.html">
            
                <a href="../security/scopes.html">
            
                    
                    Scopes
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Key concepts</li>
        
        
    
        <li class="chapter " data-level="3.1" data-path="../key-concepts/getting-started.html">
            
                <a href="../key-concepts/getting-started.html">
            
                    
                    Getting started
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2" data-path="../key-concepts/api-instantiation.html">
            
                <a href="../key-concepts/api-instantiation.html">
            
                    
                    API instantiation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.3" data-path="../key-concepts/entry-get.html">
            
                <a href="../key-concepts/entry-get.html">
            
                    
                    Get an entry
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.4" data-path="../key-concepts/entries-list.html">
            
                <a href="../key-concepts/entries-list.html">
            
                    
                    Listing entries
            
                </a>
            

            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="4.1" data-path="../fields/data-types.html">
            
                <a href="../fields/data-types.html">
            
                    
                    Data types
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.2" data-path="../fields/data-format.html">
            
                <a href="../fields/data-format.html">
            
                    
                    Data format
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.3" data-path="../key-concepts/api-errors.md">
            
                <span>
            
                    
                    Handling errors
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.4" data-path="../key-concepts/linked-content.html">
            
                <a href="../key-concepts/linked-content.html">
            
                    
                    Linked Content
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Model</li>
        
        
    
        <li class="chapter " data-level="5.1" data-path="../model/entry.html">
            
                <a href="../model/entry.html">
            
                    
                    Entry
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.2" data-path="../model/entry-methods.html">
            
                <a href="../model/entry-methods.html">
            
                    
                    Entry methods
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.3" data-path="../model/asset.html">
            
                <a href="../model/asset.html">
            
                    
                    Asset
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.4" data-path="../model/composed.html">
            
                <a href="../model/composed.html">
            
                    
                    ComposedField
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.5" data-path="../model/daterange.html">
            
                <a href="../model/daterange.html">
            
                    
                    DateRange
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.6" data-path="../model/image.html">
            
                <a href="../model/image.html">
            
                    
                    Image
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.7" data-path="../model/location.html">
            
                <a href="../model/location.html">
            
                    
                    Location
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.8" data-path="../model/quote.html">
            
                <a href="../model/quote.html">
            
                    
                    Quote
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.9" data-path="../model/versioninfo.html">
            
                <a href="../model/versioninfo.html">
            
                    
                    VersionInfo
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Search</li>
        
        
    
        <li class="chapter active" data-level="6.1" data-path="entry-search.html">
            
                <a href="entry-search.html">
            
                    
                    Search basics
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.2" data-path="query-operators.html">
            
                <a href="query-operators.html">
            
                    
                    Query operators
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.zengenti.com" target="blank" class="gitbook-link">
          © Copyright Zengenti 2017
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >Search basics</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="search">Search</h1>
<p>A query tree structure, along with order and paging specifiers, allows a search to be performed against indexed documents held in ElasticSearch. The query API allows any required sub-query structure to be defined and a comprehensive selection of Operators enable individual field level evaluation.</p>
<h2 id="queries">Queries</h2>
<p>This example demonstrates a simple search with default ordering and paging options:</p>
<p>Synchronous</p>
<pre class="language-"><code class="lang-cs"><span class="token keyword">var</span> query <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Query</span><span class="token punctuation">(</span>
    Op<span class="token punctuation">.</span><span class="token function">Contains</span><span class="token punctuation">(</span><span class="token string">&quot;title&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Batman&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    Op<span class="token punctuation">.</span><span class="token function">GreaterThan</span><span class="token punctuation">(</span><span class="token string">&quot;runtime&quot;</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// Execute the search</span>
<span class="token keyword">var</span> results <span class="token operator">=</span> client<span class="token punctuation">.</span>Entries<span class="token punctuation">.</span><span class="token function">Search</span><span class="token punctuation">(</span>query<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>Asynchronous</p>
<pre class="language-"><code class="lang-cs"><span class="token comment" spellcheck="true">// Execute the search asynchronously</span>
<span class="token keyword">var</span> results <span class="token operator">=</span> <span class="token keyword">await</span> client<span class="token punctuation">.</span>Entries<span class="token punctuation">.</span><span class="token function">SearchAsync</span><span class="token punctuation">(</span>query<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h2 id="sub-queries">Sub-queries</h2>
<p>A sub-query is a query within another query that is used as a condition to further restrict the results. Effectively they are defined by an explicit nesting of <a href="../common/query-api/query-operators.md#logical-operators">logical operators</a>.</p>
<p>This example demonstrates a simple search with a sub-query:</p>
<p>Synchronous</p>
<pre class="language-"><code class="lang-cs"><span class="token keyword">var</span> query <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Query</span><span class="token punctuation">(</span>
    Op<span class="token punctuation">.</span><span class="token function">Contains</span><span class="token punctuation">(</span><span class="token string">&quot;title&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Batman&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    Op<span class="token punctuation">.</span><span class="token function">Or</span><span class="token punctuation">(</span>
        Op<span class="token punctuation">.</span><span class="token function">GreaterThan</span><span class="token punctuation">(</span><span class="token string">&quot;releaseDate&quot;</span><span class="token punctuation">,</span> <span class="token number">1960</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        Op<span class="token punctuation">.</span><span class="token function">Contains</span><span class="token punctuation">(</span><span class="token string">&quot;tagline&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;gotham&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h2 id="ordering">Ordering</h2>
<p>Results can be ordered by one or more fields in an ascending or descending direction. Order clauses are prioritised in the order that they are added. By default, if no order clauses are specified then the entry results are ordered by the EntryTitle in an ascending direction.</p>
<p>Order by &apos;releaseDate&apos;.</p>
<pre class="language-"><code class="lang-cs">query<span class="token punctuation">.</span>OrderBy<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token string">&quot;releaseDate&quot;</span><span class="token punctuation">)</span>
</code></pre>
<p>Order by &apos;releaseDate&apos; in a descending direction using the &apos;-&apos; token.</p>
<pre class="language-"><code class="lang-cs">query<span class="token punctuation">.</span>OrderBy<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token string">&quot;-releaseDate&quot;</span><span class="token punctuation">)</span>
</code></pre>
<p>Multiple order clauses.</p>
<pre class="language-"><code class="lang-cs">query<span class="token punctuation">.</span>OrderBy<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token string">&quot;title&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;-releaseDate&quot;</span><span class="token punctuation">)</span>
</code></pre>
<h2 id="paging">Paging</h2>
<p>Paging allows the number of results to be restricted to a defined count so that the results are easier to handle and ensures a response is returned quickly. The page number can also be specified to allow which set of results is to be returned.</p>
<pre class="language-"><code class="lang-cs"><span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">// Create a query</span>
    <span class="token keyword">var</span> query <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Query</span><span class="token punctuation">(</span>
        Op<span class="token punctuation">.</span><span class="token function">EqualTo</span><span class="token punctuation">(</span><span class="token string">&quot;contentTypeId&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;film&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">// Set the paging options</span>
    query<span class="token punctuation">.</span>PageSize <span class="token operator">=</span> <span class="token number">50</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">// Get the 2nd result set</span>
    query<span class="token punctuation">.</span>PageIndex <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<h2 id="specifying-fields">Specifying fields</h2>
<h3 id="system-fields">System fields</h3>
<p>System fields such as id, contentTypeId, projectId, versionNo etc. are under the <em>sys</em> object and can be accessed using a dot notation, e.g. sys.id, sys.contentTypeId, sys.projectId, sys.version.versionNo.</p>
<p>The <em>entryTitle</em> field is a dynamic value, determined by the <em>EntryTitleField</em> value in the content type.</p>
<h3 id="data-fields">Data fields</h3>
<p>Fields defined in the content type for the entry can be accessed by their API id.</p>
<h2 id="complete-example">Complete example</h2>
<p>The example below combines the ordering and paging concepts:</p>
<pre class="language-"><code class="lang-cs"><span class="token keyword">var</span> query <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Query</span><span class="token punctuation">(</span>
    Op<span class="token punctuation">.</span><span class="token function">Contains</span><span class="token punctuation">(</span><span class="token string">&quot;title&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Batman&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    Op<span class="token punctuation">.</span><span class="token function">GreaterThan</span><span class="token punctuation">(</span><span class="token string">&quot;runtime&quot;</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

query<span class="token punctuation">.</span>OrderBy<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token string">&quot;-releaseDate&quot;</span><span class="token punctuation">)</span>
query<span class="token punctuation">.</span>PageIndex <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
query<span class="token punctuation">.</span>PageSize <span class="token operator">=</span> <span class="token number">50</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// Execute the search</span>
<span class="token keyword">var</span> results <span class="token operator">=</span> client<span class="token punctuation">.</span>Entries<span class="token punctuation">.</span><span class="token function">Search</span><span class="token punctuation">(</span>query<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="../model/versioninfo.html" class="navigation navigation-prev " aria-label="Previous page: VersionInfo">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="query-operators.html" class="navigation navigation-next " aria-label="Next page: Query operators">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Search basics","level":"6.1","depth":1,"next":{"title":"Query operators","level":"6.2","depth":1,"path":"search/query-operators.md","ref":"search/query-operators.md","articles":[]},"previous":{"title":"VersionInfo","level":"5.9","depth":1,"path":"model/versioninfo.md","ref":"model/versioninfo.md","articles":[]},"dir":"ltr"},"config":{"plugins":["-sharing","fontsettings","-highlight","prism"],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"fontsettings":{"family":"sans","size":2,"theme":"white"},"prism":{"css":["prismjs/themes/prism-okaidia.css"],"lang":{"json":"json"}},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"Contensis .NET Delivery API","links":{"sidebar":{"Development Home":"http://zengenti.com/en-gb/products/contensis/contensis.aspx"}},"gitbook":"*"},"file":{"path":"search/entry-search.md","mtime":"2017-03-11T07:44:47.000Z","type":"markdown"},"gitbook":{"version":"3.2.2","time":"2017-03-11T07:51:45.726Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    

    </body>
</html>

